(function(){"use strict";function on(target,event,listener){if(typeof target.addEventListener!=="undefined"){target.addEventListener(event,listener,false);}else if(typeof target.attachEvent!=="undefined"){target.attachEvent("on"+event,listener);}}
function hasNativeDateTimePicker(){var input=document.createElement("input");input.setAttribute("type","datetime-local");return input.type==="datetime-local";}
function toggle(element){element.disabled=!element.disabled;}
function onPublishedClick(event){var target=event.target||event.srcElement;toggle(target.form.elements.publication_date);toggle(target.form.elements.expires);}
function onDateChange(event){var field=event.target||event.srcElement;var format=/^\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3)]):([0-5][0-9])$/;if(format.test(field.value)){field.style.backgroundColor="";field.style.color="";}else{field.style.backgroundColor="#ffe4e1";field.style.color="#000";window.alert(PAGEPARAMS.message);}}
function onHeaderLocationRadioClick(event){var target=event.target||event.srcElement,disabled=(target.value==="0");target.form.elements.header_location.disabled=disabled;document.getElementById("pageparams_linklist").disabled=disabled;}
function onLinkListChange(event){var target,input;target=event.target||event.srcElement;input=target.form.elements.header_location;input.value=target.value?"?"+target.value:"";}
on(window,"load",function(){var form,elements,element,i;form=document.getElementById("page_params");if(form){elements=form.elements;on(elements.published[1],"click",onPublishedClick);if(!hasNativeDateTimePicker()){on(elements.publication_date,"change",onDateChange);on(elements.expires,"change",onDateChange);}
elements=form.elements.use_header_location;for(i=0;i<elements.length;i+=1){on(elements[i],"click",onHeaderLocationRadioClick);}}
element=document.getElementById("pageparams_linklist");if(element){on(element,"change",onLinkListChange);}});}());